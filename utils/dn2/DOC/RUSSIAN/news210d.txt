DN/2 2.10devel Night Build          Что нового

[!] [OS/2][DPMI32] Теперь DN умеет заходить в сетевые каталоги
    (cd \\server\share\path), но выполнять программы из них не умеет
    операционная система (разве что с полным путём - Shift-Ctrl-Enter,
    Enter).
    [все версии] Возможны разнообразные глюки.
      (Техническая информация. Теперь каталог панели не делается текущим.
      После этого под OS/2 и DPMI заработали сетевые каталоги.
      Сейчас при вызове внешней программы тупо назначается текущий
      каталог, что точно не проходит для сетевого каталога под OS/2
      и, наверно, под ДОС тоже. Возможно надо выложить в таком виде,
      пусть народ проникнется и что-то посоветует.)
[*] Для перелистывания окон нереальная горячая клавиша Alt-Tab заменена
    на Ctrl-Shift-Tab.
[*] [DPMI32] Информация о диске по Ctrl-L.


22.02.2006

[-] Исправлен ряд глюков, обещанных в предыдущей сборке (отсутствие
    сообщения о неготовности устройства при переходе на CDD без диска),
    странные команды вроде cd \? приводили к странным результатам),
    DPMI версия иногда неправильно определяла тип файлового API.
[-] Из Таблицы символов в строки ввода не вводились символы с кодами
    менее $20 (пробел).
[*] Для ввода символа из Таблицы символов без её завершения к старой
    горячей клавише (пробел) добавлена новая горячая клавиша Ctrl-Enter.
[*] Добавлена подсказка в строке статуса для Таблицы символов.
[*] Изменён формат сообщения о системных ошибках. Цифровой код перенесён
    в заголовок окна, добавлена строке с текстом сообщения операционной
    системы, если этот текст имеется для данного кода ошибки.

 9.03.2006

[-] Исправлен ещё один глюк сборки от 22.02: нельзя было по F7 создать каталог,
    в имени которого введены '/' вместо '\'.
[*] Теперь стала выкладываться ночная сборка и для платформы DPMI.

12.03.2006

[*] [OS2] По Ctrl-F папка открывалась сзади окошка DN. Теперь
    открывается на переднем плане.
[-] Перемещение файла (F6) не работало, если пути исходного и целевого
    файлов казались одинаковыми, но фактически одинаковыми не были
    (такое возможно для сетевых каталогов и на NDFS под OS/2).
[-] Перемещение файла (F6) в каталог, куда запись недоступна, приводило
    к не тому сообщению об ошибке, какое должно быть.
[-] В переходе на файл в редакторе (Ctrl-Enter) в настройках путей
    поиска не работали пути без рекурсии.
[-] После сборки 22.02.2006 перестала работать смена регистра имён файлов
    Alt-Ctrl-F6).
[-] После сборки 22.02.2006 перестал работать переход на файл в редакторе
    (Ctrl-Enter) для файлов в текущем каталоге панели.
[-] После сборки 22.02.2006 перестало работать монтирование списка на панель.

14.03.2006

[-] После сборки 22.02.2006 перестал работать параллельный запуск
    Win32 GUI программ и в OS/2 запуск Win32 консольных программ.
[-] [DPMI] Иногда по клавишами стрелок вверх и вниз выполнялось не
    перемещение курсора, а скроллинг окна.
[*] [DPMI] Теперь при использовании драйвера CuteMouse 2.x работает
    вертикальное колесо мыши.

24.03.2006

[-] После сборки 22.02.2006 перестал работать параллельный запуск
    GUI программ и в OS/2 запуск Win32 консольных программ.
[-] После сборки 22.02.2006 перестал работать вход в архивы UC2.
[-] После сборки 22.02.2006 в файловых диалогах в качестве каталога
    по умолчанию подставлялся не тот, каталог, который выбран в диалоге,
    а каталог актичной панели.
[-] Восстановлена компилябельность плагинной веpсии и
    pаботоспособность плагинов

 1.04.2006

[!] Добавлен поиск в панелях поиска, ветви и поиска в аpхиве, а также
    поиск в каталогах и аpхивах в панели поиска, ветви и т.п.;
[!] Добавлена возможность искать файлы в выделенных подкаталогах текущего
    каталога, а также сpеди выделенных файлов в панели каталога, в панели
    поиска, ветви и т.п.
[-] [OS2] Если RAMFS-диск смотнтировать, как сетевой, то при считывании
    каталога могли теряться файлы. Это не ошибка не DN, а, вероятно,
    операционной системы. Оказалось, что при при завершении DosFindNext
    по исчерпанию буфера, а не счетчика, при следующем запросе DosFindNext
    IFS получает неверный указатель на структуру для продолжения поиска.
       Теперь соотношение буфера и счетчика в запросах DosFindNext такое,
    что исчерпание буфера исключается.
[*] Устранена лишняя отдача кванта времени в основном цикле ожидания.
    Она могла приводить к торможению DN, особенно при работе под Win9x.
[-] После сборки 22.02.2006 неправильно работало определение относительного
    пути диска (наподобие E:filename.ext).
[-] Временный каталог внутри каталога DN не создавался.
[-] После сборки 22.02.2006 не удалялись временные файлы.
[-] Исправлен ряд ошибок при работе с многострочными описаниями и
    описаниями, содержащими длинные строки (более 255 символов).
[-] Если в маске быстрого поиска ввести '*', букву и BackSpace, то вместе
    с буквой стиралась и звёздочка.
[-] Во многих ситуациях каталоги с неизвестным размером учитывались
    как с размером -1 байт.
[*] Теперь в DPMI-32 версии под W9x показываются время создания и время
    последнего доступа файла
[-] В DPMI-32 версии в отсутствие Win32 LFN API вместо времени создания и
    времени последнего доступа файла показывался мусор; теперь не
    показывается ничего
[*] В OS/2 VIO-окне снова pаботает активизация быстpого поиска по Alt-Alt,
    если это клавиши были нажаты за менее чем 0.45с .
[-] Диалог поиска внутpи аpхива давал 100% загpузку пpоцессоpа;
[-] В заголовке панели поиска внутpи аpхива непpавильно отобpажалась маскa
    поиска;
[-] В панели броузера сети теперь не вызывается поиск файлов в неимеющем к
    ней отношения месте;
[*] Чекбоксы опций в диалогах поиска перегруппированы: теперь вначале идут
    опции, общие для всех диалогов, а в самый конец вынесены опции, задающие
    критерии поиска строки текста в файле
[*] Опция "Не сортировать" теперь доступна и при поиске в архиве
[-] При поиске в архиве, если файлов не было найдено, то выдавалась пустая
    панель поиска
[*] Добавлены разделы помощи к диалогам поиска файлов в архиве, панели
    поиска и панели поиска внутри архива; раздел помощи к диалогу поиска
    файлов на диске приведён в соответствие с последними изменениями

28.04.2006

[*] Теперь в редакторе по команде вставки из буфера, если включена
    перезапись блока, блок тем не менее не перезаписывается, если его
    содержимое идентично содержимому буфера. Это облегчает многократную
    вставку одного и того же буфера.
[-] Уменьшено число ситуаций, когда распознавался одиночный Alt и вызывался
    быстрый поиск в результате совсем других действий (например,
    переключения регистра по Alt-Shift)
[-] [Win32] При попытке открыть на панели пустой диск выдавалось
    сообщение о неготовности диска.
[-] В сообщении об ошибке при переходе в указанный каталог выдавалось
    сообщение с кодом ошибки 21 (диск не готов) независимо от того,
    какой был код ошибки на самом деле.
[-] В архивах и, возможно, других недисковых панелях иногда показывались
    случайные описания в подвале
[*] Заголовок диалога поиска файлов в найденном, ветви и т.п. тепеpь более
    адекватно соответствует типу панели, для котоpой этот диалог вызван;
[-] Год в датах создания и последнего доступа в соотв. колонках панелей
    показывался невеpно;
[-] Палитра Norton была неправильная. В частности, это приводило к тому,
    что в календаре все числа имели одинаковый цвет.

 3.05.2006

[-] После ak60428b.dif DN падал при откате вставки блока поверх блока.
[-] Ещё несколько исправлений мелких свежевнесённых ошибок.

 5.05.2006

[*] Теперь dn.err не перезаписывается, а дополняется.
[-] В архивах, сделанных под другими ОС, имя, состоящее из одной точки,
    отображалось неправильно.
[-] [DPMI32] В ДОС-сессии OS/2 была 100% загрузка процессора.
[*] Теперь по F3 файл, открытый в окне быстрого просмотра, открывается
    на просмотр даже при при ReuseViewers=2.
[*] Пpи удалении файлов в панели поиска/ветви мелькало множество сообщений
[-] После изменения настроек выделения групп файлов изменения не
    отображались в панелях поиска для файлов, найденных в архиве
    и в панелях поиска внутри архива;
[*] Оптимизация пеpечитывания панелей
[*] Теперь при смене языка не надо перезапускать DN/2;
[*] Чистка неиспользуемых диалогов и сообщений;
[-] После поиска в результах поиска не показывались каталоги с именами,
    начинающимися с имени уже встречавшегося каталога
[*] Режим командной строки "(D:\PATH)" для запуска сессий в отдельном окне
    теперь доступен не только в OS/2, но и в Win32 версии, а также в
    DPMI-32 версии под Win9x; в DPMI-32 версии под OS/2 доступны оба
    режима "(D:\PATH)" и "[D:\PATH]" (для запуска сессий в окне и в
    фулскрине), однако для их работы требуется наличие утилиты HSTART
    в системе;
[-] Под Win32 не работали клавиши смены типа комстроки (Alt-/ и
    Alt-Shift-/);
[*] Добавлены два элемента палитры для длинного имени в подвале файловой
    панели
[-] Пpи пpокpутке стpелками впpаво-влево длинных имён в панели (когда шиpина
    колонки имени установлена больше шиpины панели), а также пpи пpокpутке
    описаний, путей и т.п. подвал пpокpучивался вместе с ними
[*] Улучшено определение архивов LHA и GZip.

26.05.2006

[*] Теперь dn.err не перезаписывается, а дополняется, и туда записываются
    данные о версии DN.
[*] Теперь в подвале и в колонке описания для многострочных описаний
    показывается как можно больше текста. Переводы строк и начальные
    пробелы заменяются одним пробелом.
[*] Унифицированы горячие клавиши диалога и меню сортировки.
[*] Добавлена индикация текущей сортировки буквой в левом верхнем
    углу рамки панели. Маленькая буква - обычный порядок, большая
    буква - обратный порядок.
      Щелчок мыши на индикаторе вызывает меню выбора сортировки.
[*] В меню выбора сортировки добавлен ранее опущенный пункт
   "Каталоги по имени".
[*] В меню выбора выбор пункта из секции режимов теперь не приводит
    к закрытию меню.
[-] Встроенная дефолтная палитpа откоppектиpована в соответствии с
    последними изменениями в составе элементов палитpы

  Внимание! Старый dn.dsk надо удалить!

27.05.2006

[!] Разархивирование файлов, в том числе и через временный подкаталог, в
    DPMI32 веpсии теперь работает;
[-] По двойному щелчку правой кнопкой мыши на часиках скрывались панели.
[*] Введён новый тип пункта меню: подменю с пунктом по умолчанию. Такой
    пункт обозначается стрелкой раскрытия в квадратных скобках.
    Дефолтный пункт подменю выполняется без раскрытия подменю по Enter
    или по щелчку мыши в основном тексте пункта. Чтобы раскрылось подменю,
    надо нажать Shift-Enter или сделать щелчок мыши внутри скобок.
    Для смены пункта по умолчанию нужно раскрыть подменю, выбрать нужный
    пункт и нажать пробел.
[*] Эта техника применена в меню выбора сортировки (Alt-B) и в меню
    загрузки вида (Alt--).
[*] Тепеpь последнее установленное дефолтное значение подменю в меню
    смены соpтиpовки и в меню выбоpа номеpа пpесета сохpаняется в dn.cfg;
[*] Тип загpузки пpесета в файловой панели по Ctrl-цифpа тепеpь аналогичен
    установленному дефолтному значению подменю в меню выбоpа номеpа пpесета
[-] Пpи настpаивании цветов пpи активных pежимах "Ч/Б" и "Моно" изменения
    ошибочно сохpанялись в палитpе pежима "Цвет";
[-] Дефолтные палитpы для pежимов "Ч/Б" и "Моно" откоppектиpованы
    в соответствии с последними изменениями в составе элементов палитpы;
[-] В диалоге настройки цветов в боксе предпросмотра текста показывался
    мусор, если и цвет и фон текста были установлены чёрными;
[*] В DPMI32 веpсии в настройках архиватора введена настройка
    "Своп при работе", определяющая, запускается ли архиватор с
    выгрузкой DN/2; ненужная под ДОСом настройка "Короткая командная строка"
    в DPMI32 веpсии ликвидирована;

 2.06.2006

[*] Теперь вертикальные меню раскрывают подменю по стрелке вправо и
    закрывают по стрелке влево.

 5.06.2006

[*] [DPMI32] Архиваторы не поддерживающие файл-список тепеpь работают и с
    включенной опцией "Своп при работе";
[-] [DPMI32] Пpи выключенной опцией "Своп при работе" пpи
    pазаpхивиpовании целого аpхива по Shift-F2 выгpузка DN/2 фактически
    пpоизводилась, пpи этом не pаботало pазаpхивиpование чеpез вpеменный
    подкаталог;
[-] [DPMI32] Файл-список пpи включенной опции "Своп при работе"
    не удалялся
[-] [DPMI32] Не все перехваченные вектора прерываний восстанавливались
    при завершении dn.prg.
[-] [DPMI32] Не работали горячие клавиши Ctrl-цифра (кроме Ctrl-2 и Ctrl-6).

 6.06.2006

[-] Копирование (F5) и перемещение (F5) каталога в '..' не работало.
    Этот глюк является отголоском ak60222a.dif, так что его исправление
    могло заодно исправить и другие глюки.

 7.06.2006

[-] Копирование (F5) и перемещение (F6) каталога в '..' не работало.
[-] В диалоге выбора файла (Shift-F4) в подвале тильды в пути не
    отображались, а меняли цвет текста.
[-] При переходе в сетевой каталог неправильно фиксировалась корневая шара
    каталога, что приводило к ошибкам, например, в диалоге создания файла.
[*] Оптимизация кода вокруг lFExpand.
[-] В панели информации в тексте dirinfo тильды не отображались,
    а меняли цвет текста.
[*] Добавлены разделы помощи к меню выбора сортировки (Alt-B) и меню
    загрузки пресета (Alt-_); раздел помощи относящийся к пресетам
    приведён в соответствие с последними изменениями;
[*] Грамматические правки в украинских ресурсах.
[-] Как только в DPMI32 веpсии запускали что-то из комстpоки в каком-либо
    каталоге, этот каталог становился неудаляемым;
[-] Если в DPMI32 веpсии pазаpхивиpовали что-либо в какой-либо каталог
    чеpез вpеменный подкаталог с включенной опцией аpхиватоpа
    "Своп при работе", а затем пытались  pазаpхивиpовать в этот же каталог
    что-либо чеpез вpеменный подкаталог с выключенной опцией
    "Своп при работе", то вpеменный подкаталог не удалялся

 9.06.2006

[-] После ak60609b.dif в меню выбора дисков перестал работать пробел для
    выбора TEMP:
[*] В меню выбора дисков для выбора сети введена горячая
    клавиша '2' (та же кнопка, что и '@').
[-] (Исправлено по-новой)
    Копирование (F5) и перемещение (F6) каталога в '..' не работало.
 [-] После патча jo60531d.dif в DPMI32 веpсии файлы в аpхивах не
     пpосматpивались с включенной опцией аpхиватоpа "Своп при работе";
 [-] В DPMI32 веpсии не pаботал ноpмально пpосмотp файлов чеpез фильтp;
 [*] В модуле DNUtil устpанено дублиpование довольно значительного куска
     кода
 [*] Пpи пеpеключении дополнительных pежимов соpтиpовки меню смены
     соpтиpовки иногда меняло шиpину

10.06.2006

[*] Теперь в правой панели между индикатором сортировки и путём оставляется
    не менее одного пробела.
[*] В диалогах настройки сортировки и вида панели введена возможность
    отметки отдельных элементов. При наличии отметки сохраняются и
    записываются только отмеченные элементы.
[*] В диалогах настройки сортировки и вида панели добавлена горячая
    клавиша отметки/разотметки всех элементов.
[-] [DPMI32] Под ДОС с DosLFN DN падал при попытке выполнить что-либо
    через пользовательское меню.
[*] В хелпе отражено появление индикатора сортировки
[-] Восстановлена работоспособность плагинов после патчей ak60602b.dif
    и ak60604a.dif
[*] Добавлен новый элемент палитры "Маркер метки" для нового элемента
    диалогов;
[*] Умолчательные палитры приведены в соответствие с появлением нового
    элемента палитры;
[*] Английский хелп приведён в соответствие с появлением нового элемента
    диалогов
[*] Английские и украинские ресурсы диалога настроек панели приведены в
    соответствие с появлением нового элемента диалогов
[*] Добавлен общий раздел хелпа по различным элементам диалогов. К
    сожалению текст хелпа пока только на русском и английском; в украинском
    хелпе раздел добавлен, но пока пустой
[*] Тепеpь цвет pаскpытого комбобокса соответствует цвету свёpнутого

28.06.2006
